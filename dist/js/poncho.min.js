jQuery("#ponchoTable").addClass("state-loading");function ponchoTable(t){var l,a,c=[],d=[],r=[],p=[],n="",u=[],b="";jQuery.fn.DataTable.isDataTable("#ponchoTable")&&jQuery("#ponchoTable").DataTable().destroy();t.jsonUrl?o(t.jsonUrl):(a=t.hojaNumero,jQuery.getJSON("https://sheets.googleapis.com/v4/spreadsheets/"+t.idSpread+"/?alt=json&key=AIzaSyCq2wEEKL9-6RmX-TkW23qJsrmnFHFf5tY",function(e){e=e.sheets[a-1].properties.title;o("https://sheets.googleapis.com/v4/spreadsheets/"+t.idSpread+"/values/"+e+"?alt=json&key=AIzaSyCq2wEEKL9-6RmX-TkW23qJsrmnFHFf5tY")}));function o(e){jQuery.getJSON(e,function(e){c=e.values;jQuery.each(Object.keys(c[0]),function(e,a){if(c[0][a]){d.push(c[0][a]);r.push(a);n+="<th>"+c[1][a]+"</th>";u.push(c[1][a])}});jQuery("#ponchoTable caption").html(t.tituloTabla);jQuery("#ponchoTable thead tr").empty();jQuery("#ponchoTable thead tr").append(n);jQuery.each(c,function(n,e){if(1<n){var s="",i="";jQuery.each(d,function(e,a){var o="",t=c[n][e];if(d[e].includes("btn-")&&t){var r=c[0][e].replace("btn-","").replace("-"," ");t='<a aria-label="'+r+'" class="btn btn-primary btn-sm margin-btn" target="_blank" href="'+t+'">'+r+"</a>"}if(d[e].includes("filtro-")&&t){l=e;var r=c[1][e];jQuery("#tituloFiltro").html(r);p.push(t)}d[e].includes("fecha-")&&t&&(r=t.split("/"),t='<span style="display:none;">'+new Date(r[2],r[1]-1,r[0]).toISOString().split("T")[0]+"</span>"+t);if(!t){t="";o="hidden-xs"}s+=t;t=(new showdown.Converter).makeHtml(t);i+='<td class="'+o+'" data-title="'+u[e]+'">'+t+"</td>"});""!=s&&(b=(b+="<tr>")+i+"</tr>")}});jQuery.each(p.filter(function(e,a,o){return a===o.indexOf(e)}),function(e,a){jQuery("#ponchoTableFiltro").append("<option>"+a+"</option>")});jQuery("#ponchoTable tbody").empty();jQuery("#ponchoTableSearchCont").show();jQuery("#ponchoTable tbody").append(b);jQuery("#ponchoTable").removeClass("state-loading");function a(e){return e.replace(/έ/g,"ε").replace(/[ύϋΰ]/g,"υ").replace(/ό/g,"ο").replace(/ώ/g,"ω").replace(/ά/g,"α").replace(/[ίϊΐ]/g,"ι").replace(/ή/g,"η").replace(/\n/g," ").replace(/[áÁ]/g,"a").replace(/[éÉ]/g,"e").replace(/[íÍ]/g,"i").replace(/[óÓ]/g,"o").replace(/[úÚ]/g,"u").replace(/ê/g,"e").replace(/î/g,"i").replace(/ô/g,"o").replace(/è/g,"e").replace(/ï/g,"i").replace(/ü/g,"u").replace(/ã/g,"a").replace(/õ/g,"o").replace(/ç/g,"c").replace(/ì/g,"i")}e=jQuery.fn.DataTable.ext.type.search;e.string=function(e){return e?"string"==typeof e?a(e):e:""};e.html=function(e){return e?"string"==typeof e?a(e.replace(/<.*?>/g,"")):e:""};if(jQuery.isFunction(jQuery.fn.DataTable.ext.order.intl)){jQuery.fn.DataTable.ext.order.intl("es");jQuery.fn.DataTable.ext.order.htmlIntl("es")}var o=jQuery("#ponchoTable").DataTable({lengthChange:!1,autoWidth:!1,pageLength:t.cantidadItems,columnDefs:[{type:"html-num",targets:t.tipoNumero},{targets:t.ocultarColumnas,visible:!1}],ordering:t.orden,order:[[t.ordenColumna-1,t.ordenTipo]],dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'i>><'row'<'col-sm-12'tr>><'row'<'col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8'p>>",language:{sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"_TOTAL_ resultados",sInfoEmpty:"No hay resultados",sInfoFiltered:"",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:".",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"<<",sLast:">>",sNext:">",sPrevious:"<"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente",paginate:{first:"Ir a la primera página",previous:"Ir a la página anterior",next:"Ir a la página siguiente",last:"Ir a la última página"}}}});jQuery(document).ready(function(){jQuery("#ponchoTableSearch").keyup(function(){o.search(jQuery.fn.DataTable.ext.type.search.string(this.value)).draw()})});jQuery("#ponchoTable_filter").parent().parent().remove();1<jQuery("#ponchoTableFiltro option").length&&jQuery("#ponchoTableFiltroCont").show();jQuery("#ponchoTableFiltro").on("change",function(){var e=jQuery.fn.DataTable.ext.type.search.string(jQuery(this).val());""!=e?o.column(l).every(function(){this.search(e?"^"+e+"$":"",!0,!1).draw()}):o.search("").columns().search("").draw()})})}}var opt={tipoMapa:"roadmap"};function ponchoMaps(f){var a,e={center:{lat:-39.6930895,lng:-57.2432742},zoom:5,mapTypeId:f.tipoMapa,styles:[{featureType:"administrative.country",stylers:[{visibility:"on"}]},{featureType:"poi",stylers:[{visibility:"off"}]}]},g=new google.maps.Map(document.getElementById("map"),e);jQuery.getJSON("https://spreadsheets.google.com/feeds/list/"+f.idSpreadheet+"/"+f.hojaNumero+"/public/values?alt=json",function(e){var o=["metricas.mod@gmail.com","modernizacion.ux@gmail.com","contenidosgobar@gmail.com"];jQuery.each(e.feed.author,function(e,a){if(-1==o.indexOf(a.email.$t)){jQuery("body").remove();window.location.replace("http://www.argentina.gob.ar")}});a=e.feed.entry;var c=[],d=[],p=['<?xml version="1.0"?>','<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="286.818px" height="396.798px" viewBox="63.14 8.15 286.818 396.798" enable-background="new 63.14 8.15 286.818 396.798" xml:space="preserve">','<path stroke="#FFF" stroke-width="10" fill="{{ color }}" d="M206.549,20.359L206.549,20.359c-74.459,0-134.584,60.126-134.584,134.584c0,25.961,8.293,50.751,19.832,71.122l87.71,151.801c5.499,9.916,16.586,14.874,27.043,14.874c10.458,0,21.003-4.958,27.043-14.874l87.71-151.711c11.629-20.373,19.832-44.712,19.832-71.124C341.133,80.574,281.008,20.359,206.549,20.359z M206.549,206.978c-33.804,0-61.41-27.606-61.41-61.41s27.606-61.41,61.41-61.41s61.41,27.606,61.41,61.41C267.959,179.484,240.353,206.978,206.549,206.978z"/>',"</svg>"].join("\n"),u={azul:{hex:"#0072BB"},verde:{hex:"#2E7D33"},rojo:{hex:"#C62828"},gris:{hex:"#707070"},fucsia:{hex:"#EC407A"},arandano:{hex:"#C2185B"},uva:{hex:"#6A1B99"},cielo:{hex:"#039BE5"},verdin:{hex:"#6EA100"},lima:{hex:"#CDDC39"},maiz:{hex:"#FFCE00"},tomate:{hex:"#EF5350"},"naranja oscuro":{hex:"#EF6C00"},"verde azulado":{hex:"#008388"}},b=(jQuery.each(a,function(e,a){var o=a.gsx$color.$t.toLowerCase(),o=p.replace("{{ color }}",u[o].hex),t=new google.maps.LatLng(a.gsx$latitud.$t,a.gsx$longitud.$t),t=new google.maps.Marker({position:t,title:a.gsx$nombre.$t,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(o),scaledSize:new google.maps.Size(40,40)},optimized:!1}),o=(c.push(t),""),r="",n="",s="",i="",l="";""==a.gsx$provincia.$t&&""==a.gsx$localidad.$t||(i='<div class="separarGuiones"><i class="fa fa-map-marker"></i><span>'+a.gsx$direccion.$t+"</span><span>"+a.gsx$localidad.$t+"</span><span>"+a.gsx$provincia.$t+"</span></div>");""!=a.gsx$telefono.$t&&(o="<div><i class='fa fa-phone'></i>"+a.gsx$telefono.$t+"</div>");""!=a.gsx$email.$t&&(r="<div><i class='fa fa-envelope'></i>"+a.gsx$email.$t+"</div>");""!=a.gsx$descripcion.$t&&(s="<div>"+(new showdown.Converter).makeHtml(a.gsx$descripcion.$t)+"</div>");""!=a.gsx$boton.$t&&(n="<hr><a class='btn btn-success btn-sm' href="+a.gsx$boton.$t+">"+f.textoBoton+"</a>");null!=a.gsx$foto&&(l='<img width="100%" src="'+a.gsx$foto.$t+'">');d[e]=new google.maps.InfoWindow({content:'<div class="media"><div class="media-body"><small class="text-primary">'+a.gsx$tipo.$t+"</small><h4>"+a.gsx$nombre.$t+"</h4> "+l+s+i+o+r+n+"</div></div>",maxWidth:300});c[e].addListener("click",function(){b();d[e].open(g,c[e])});jQuery("#map-container").removeClass("state-loading");t.setMap(g)}),function(){for(var e=0;e<d.length;e++)d[e].close()});"si"==f.agrupar&&new MarkerClusterer(g,c,{enableRetinaIcons:!0,imageSizes:[20,30,40,50,60,70],maxZoom:10,gridSize:50,styles:[{textColor:"white",url:"https://www.argentina.gob.ar/sites/default/files/cluster_ponchomaps.png",width:45,height:45}]})})}var content_popover=document.getElementById("content-popover");function popshow(){content_popover.classList.toggle("hidden")}function pophidde(){content_popover.classList.add("hidden")}var ponchoUbicacion=function(e){var o,t,r,n,a="/profiles/argentinagobar/themes/contrib/poncho/resources/jsons/geoprovincias.json",s="/profiles/argentinagobar/themes/contrib/poncho/resources/jsons/geolocalidades.json",i=jQuery('input[name="submitted['+e.provincia+']"]'),l=jQuery('input[name="submitted['+e.localidad+']"]');function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e,a,o,t=!1,r=!1,n=!1){var s=jQuery("<select></select>").attr("id",a).attr("name",e).addClass("form-control form-select").prop("required",t);r&&s.append("<option value=''>Seleccione una opción</option>");jQuery.each(o,function(e,a){let o="";n==a.nombre&&(o='selected="selected"');s.append("<option value='"+a.id+"' "+o+">"+a.nombre+"</option>")});return s}function p(e,a){var o=l.prop("required");return i.val()?d("sLocalidades","sLocalidades",e.filter(function(e){return String(e.provincia.id)==String(a)}).map(function(e){e.departamento.nombre&&(e.nombre=c(e.departamento.nombre.toLowerCase())+" - "+c(e.nombre.toLowerCase()));return e}).sort(function(e,a){e=e.nombre.toUpperCase(),a=a.nombre.toUpperCase();return e.localeCompare(a)}),o,emptyOption=!!l.val(),l.val()):d("sLocalidades","sLocalidades",[],o,!0,!1)}a=e.urlProvincias||a;s=e.urlLocalidades||s;jQuery.getJSON(a,function(e){o=function(e){o=[];e.results.forEach(function(e,a){o.push(e)});return o}(e);e=[],a=(e=(a=o).sort(function(e,a){e=e.nombre.toUpperCase(),a=a.nombre.toUpperCase();return e.localeCompare(a)}),i.prop("required"));var a;(r=d("sProvincias","sProvincias",e,a,!0,i.val())).on("change",function(e){i.val("");l.val("");n.children("option:not(:first)").remove();if(""!=r.val()){i.val(r.find(":selected").text());var a=p(t,r.val()).find("option");n.append(a);n.val("")}});i.after(r);jQuery(r).select2()});jQuery.getJSON(s,function(e){t=function(e){t=[];e.results.forEach(function(e,a){t.push(e)});return t}(e);(n=p(t,r.val())).on("change",function(e){l.val("");""!=n.val()&&l.val(n.find(":selected").text())});l.after(n);jQuery(n).select2()});i.hide();l.hide()};function ponchoChart(a){"use strict";if(function(e){var a=!1;(e.idSpread&&e.hojaNombre||e.jsonUrl||e.jsonInput)&&void 0!==e.tipoGrafico&&""!=e.tipoGrafico&&void 0!==e.idComponenteGrafico&&""!=e.idComponenteGrafico&&""!=ve(e.tipoGrafico)&&(a=!0);return a}(a))if(a.jsonInput){console.log(a.jsonInput);o(jQuery.parseJSON(a.jsonInput),a)}else{var e=a.jsonUrl||"https://sheets.googleapis.com/v4/spreadsheets/"+a.idSpread+"/values/"+a.hojaNombre+"?alt=json&key=AIzaSyCq2wEEKL9-6RmX-TkW23qJsrmnFHFf5tY";jQuery.getJSON(e,function(e){o(e,a)})}else{void 0!==a.idSpread&&""!=a.idSpread||console.log("Completar valor para la opción de Configuración idSpread");void 0!==a.hojaNombre&&""!=a.hojaNombre||console.log("Completar valor para la opción de Configuración hojaNombre");void 0!==a.tipoGrafico&&""!=a.tipoGrafico||console.log("Completar valor para la opción de Configuración tipoGrafico");void 0!==a.idComponenteGrafico&&""!=a.idComponenteGrafico||console.log("Completar valor para la opción de Configuración idComponenteGrafico");""==ve(a.tipoGrafico)&&console.log("Ingrese un tipo de gafico válido")}function ve(e){var a="";"Line"==e&&(a="line");"Bar"==e&&(a="bar");"Pie"==e&&(a="pie");"Area"==e&&(a="line");"Horizontal Bar"==e&&(a="horizontalBar");"Stacked Bar"==e&&(a="bar");"Mixed"==e&&(a="mixed");return a="HeatMap"==e?"heatmap":a}function ye(e){var a="";switch(e){case"celeste":a="#2897d4";break;case"verde":a="#2e7d33";break;case"rojo":a="#c62828";break;case"amarillo":a="#f9a822";break;case"azul":a="#0072bb";break;case"negro":a="#333";break;case"uva":a="#6a1b99";break;case"gris":a="#525252";break;case"grisintermedio":a="#f2f2f2";break;case"celesteargentina":a="#37bbed";break;case"fucsia":a="#ec407a";break;case"arandano":a="#c2185b";break;case"uva":a="#6a1b99";break;case"cielo":a="#039be5";break;case"verdin":a="#6ea100";break;case"lima":a="#cddc39";break;case"maíz":a="#ffce00";break;case"tomate":a="#ef5350";break;case"naranjaoscuro":a="#EF6C00";break;case"verdeazulado":a="#008388";break;case"escarapela":a="#2cb9ee";break;case"lavanda":a="#9284be";break;case"mandarina":a="#f79525";break;case"palta":a="#50b7b2";break;case"cereza":a="#ed3d8f";break;case"limon":a="#d7df23";break;case"verdejade":a="#066";break;case"verdealoe":a="#4fbb73";break;case"verdecemento":a="#b4beba";break;default:console.log("No existe color "+e)}return a}function xe(e){var e=e.toString().replace(".",","),a=e.split(","),o=new Intl.NumberFormat("es-AR",{maximumFractionDigits:2}).format(a[0]);return e=1<a.length?o.concat(",",a[1].substr(0,2)):o}function o(e,t){var n=[],r=[],s=[],i=[],l=[],c=[],d=[],p=[],u=0,a="",b=[],o=0,f=[],g=[],N=0,h=t.posicionLeyendas||"top",m="",m=void 0===t.mostrarLeyendas||t.mostrarLeyendas,v="",v=void 0===t.mostrarTotalStacked||t.mostrarTotalStacked,y=ve(t.tipoGrafico),x=e.values;jQuery.each(Object.keys(x[0]),function(e,a){if("eje-y"==x[0][e].substr(0,5)){var o=x[0][e].split("-"),o=o[0]+o[1];r.push(o);s.push(e)}else"nombre-corto"==x[0][e]&&"heatmap"==y&&(N=e)});jQuery.each(x,function(r,e){0==r&&jQuery.each(s,function(e,a){var o=x[r][s[e]].split("-"),t=o[0]+o[1];d[t]=[];i.push(o[2]);if("mixed"==y)if(3<o.length)if("barra"==o[3]||"linea"==o[3])b.push(o[3]);else{0==e&&b.push("barra");1==e&&b.push("linea")}else{0==e&&b.push("barra");1==e&&b.push("linea")}});1==r&&jQuery.each(s,function(e,a){if("pie"!=y)if("heatmap"==y)n.push(x[r][s[e]]);else{c.push(x[r][s[e]]);u+=1}else n.push(x[r][s[e]])});if(1<r){var t=!1;jQuery.each(s,function(e,a){var o=x[0][s[e]].split("-"),o=o[0]+o[1];if("pie"==y)d[o].push(x[r][s[e]]);else if("heatmap"==y){if(0==t){c.push(x[r][0]);t=!0;u+=1}e!=N&&d[o].push(x[r][s[e]]);e+2==N&&(void 0===x[r][e+2]?g.push("*"):g.push(x[r][e+2]))}else{if(0==t){n.push(x[r][0]);t=!0}d[o].push(x[r][s[e]])}})}});if("pie"==y){var O=[];jQuery.each(Object.keys(r),function(e,a){e=r[e];d.hasOwnProperty(e)&&O.push(d[e])});p=O}else 1==u&&jQuery.each(Object.keys(r),function(e,a){e=r[e];d.hasOwnProperty(e)&&(p=d[e])});if("mixed"==y){var z=t.porcentajesMixed||"";0<z.length&&(f=z.split(","))}a=1==t.porcentajes?"line"==y&&1<u?{enabled:!0,callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o+"%"}},mode:"index",intersect:!1}:"pie"==y?{enabled:!0,callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.labels[e.index]+": "+o+"%"}}}:"Stacked Bar"==t.tipoGrafico?1==v?{enabled:!0,mode:"index",callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o+"%"},footer:(e,a)=>{e=e.reduce((e,a)=>e+parseFloat(a.yLabel),0);return"Total: "+new Intl.NumberFormat("es-AR",{maximumFractionDigits:2}).format(e)+"%"}}}:{enabled:!0,mode:"index",callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o+"%"}}}:{enabled:!0,mode:"index",callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o+"%"}}}:"line"==y&&1<u?{enabled:!0,callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o}},mode:"index",intersect:!1}:"pie"==y?{enabled:!0,callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.labels[e.index]+": "+o}}}:"Stacked Bar"==t.tipoGrafico&&1<u?1==v?{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o},footer:(e,a)=>{e=e.reduce((e,a)=>e+parseFloat(a.yLabel),0);return"Total: "+new Intl.NumberFormat("es-AR",{maximumFractionDigits:2}).format(e)}}}:{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o}}}:{enabled:!0,mode:"index",callbacks:{label:function(e,a){var o=xe(a.datasets[e.datasetIndex].data[e.index]);return a.datasets[e.datasetIndex].label+": "+o}}};if("pie"==y){i.forEach(function(e,a,o){l.push(ye(e))});console.log("etiquetas --\x3e "+n);console.log("datos --\x3e "+p);console.log("colores --\x3e "+l);var z=n,v=p,D=y,R=l,C=t.idComponenteGrafico,P=h,U=a,_=m;C=document.getElementById(C);new Chart(C,{type:D,data:{labels:z,datasets:[{data:v,borderColor:R,backgroundColor:R,borderWidth:2}]},options:{legend:{display:_,position:P},responsive:!0,tooltips:U}})}if(1==u){console.log("etiquetas --\x3e "+n);console.log("datos --\x3e "+p);C=ye(i[0]);console.log("color --\x3e "+C);if("Line"==t.tipoGrafico){var D=n,v=p,R=y,_=C,P=c[0],U=t.ejeYenCero,j=t.idComponenteGrafico,q=h,W=a,Y=m;j=document.getElementById(j);new Chart(j,{type:R,data:{labels:D,datasets:[{data:v,borderColor:_,backgroundColor:_,borderWidth:2,lineTension:0,fill:!1,label:P}]},options:{legend:{display:Y,position:q},tooltips:W,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:U}}]}}})}if("bar"==y||"Area"==t.tipoGrafico){var j=n,v=p,Y=y,q=C,W=c[0],J=t.ejeYenCero,k=t.idComponenteGrafico,H=h,Z=a,K=m;k=document.getElementById(k);new Chart(k,{type:Y,data:{labels:j,datasets:[{data:v,borderColor:q,backgroundColor:q,borderWidth:2,lineTension:0,label:W}]},options:{legend:{display:K,position:H},tooltips:Z,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:J}}]}}})}if("horizontalBar"==y){var k=n,v=p,K=y,H=C,Z=c[0],J=t.ejeYenCero,w=t.idComponenteGrafico,I=h,V=a,X=m;w=document.getElementById(w);new Chart(w,{type:K,data:{labels:k,datasets:[{data:v,borderColor:H,backgroundColor:H,borderWidth:2,lineTension:0,label:Z}]},options:{legend:{display:X,position:I},tooltips:V,responsive:!0,scales:{xAxes:[{ticks:{beginAtZero:J}}]}}})}}if(1<u)if("heatmap"==y)if(void 0!==t.heatMapColors&&""!=t.heatMapColors&&void 0!==t.heatMapColorsRange&&""!=t.heatMapColorsRange){var ee=[],w="labelFila",v="labelColumna",X="labelValor";if(void 0!==t.datosTooltip&&0<t.datosTooltip.length){void 0!==t.datosTooltip[0]&&void 0!==t.datosTooltip[0].labelFila&&(w=t.datosTooltip[0].labelFila);void 0!==t.datosTooltip[1]&&void 0!==t.datosTooltip[1].labelColumna&&(v=t.datosTooltip[1].labelColumna);void 0!==t.datosTooltip[2]&&void 0!==t.datosTooltip[2].labelValor&&(X=t.datosTooltip[2].labelValor)}jQuery.each(Object.keys(r),function(e,a){e=r[e];if(d.hasOwnProperty(e)){p=d[e];ee.push(p)}});for(var ae=[],T=0;T<c.length;T++){for(var e=[],Q=0;Q<n.length;Q++){p={x:n[Q],y:parseInt(ee[Q][T])};e.push(p)}var oe={name:("*"!=g[T]?g:c)[T],data:e};ae.push(oe)}for(var te=[],T=0;T<t.heatMapColorsRange.length-1;T++){e={from:t.heatMapColorsRange[T],to:t.heatMapColorsRange[T+1],color:ye(t.heatMapColors[T])};te.push(e)}I="",I=void 0===t.mostrarEjeY||t.mostrarEjeY;{V=ae;var S=t.idComponenteGrafico;var re=c;var ne=te;var se=w;var ie=v;var le=X;v=t.tituloGrafico;var A=I;var ce=h;var de=m;S=document.getElementById(S);new ApexCharts(S,{series:V,chart:{height:650,type:"heatmap"},dataLabels:{enabled:!1},title:{text:v},tooltip:{custom:function({series:e,seriesIndex:a,dataPointIndex:o,w:t}){e=xe(e[a][o]);return'<div class="arrow_box"><span>'+se+": "+re[a]+"<br>"+ie+": "+t.globals.labels[o]+"<br>"+le+": "+e+"</span></div>"}},plotOptions:{heatmap:{shadeIntensity:.5,radius:0,useFillColorAsStroke:!1,colorScale:{ranges:ne}}},yaxis:{show:A},legend:{show:de,position:ce},responsive:[{breakpoint:1e3,options:{yaxis:{show:!1},legend:{show:de,position:"top"}}}]}).render();const me=document.getElementsByClassName("apexcharts-toolbar");for(let e=0;e<me.length;e++)me[e].style.display="none"}}else{void 0!==t.heatMapColors&&""!=t.heatMapColors||console.log("Completar vector con valores para los colores");void 0!==t.heatMapColorsRange&&""!=t.heatMapColorsRange||console.log("Completar vector con el rango de valores para los colores")}else{var G=[],E=0;i.forEach(function(e,a,o){l.push(ye(e))});console.log("colores --\x3e "+l);var pe=0;jQuery.each(Object.keys(r),function(e,a){e=r[e];if(d.hasOwnProperty(e)){p=d[e];console.log("datos --\x3e "+p);if("Line"==t.tipoGrafico)var o={label:c[E],data:p,borderColor:l[E],fill:!1,borderWidth:2,lineTension:0,backgroundColor:l[E]};else if("Bar"==t.tipoGrafico||"Area"==t.tipoGrafico||"Horizontal Bar"==t.tipoGrafico||"Stacked Bar"==t.tipoGrafico)o={label:c[E],data:p,borderColor:l[E],backgroundColor:l[E],borderWidth:2,lineTension:0};else if("Mixed"==t.tipoGrafico){e=b[pe];"barra"==e?o={label:c[E],data:p,backgroundColor:l[E],yAxisID:"left-y-axis",type:"bar"}:"linea"==e&&(o={label:c[E],data:p,borderColor:l[E],backgroundColor:l[E],type:"line",yAxisID:"right-y-axis",fill:!1})}G.push(o);E+=1;pe+=1}});"mixed"==y&&(2==f.length?o=2:1==f.length?"eje-y1"==f[0]?o=0:"eje-y2"==f[0]&&(o=1):o=3);console.log("etiquetas --\x3e "+n);console.log("toltip --\x3e"+JSON.stringify(a));if("Stacked Bar"==t.tipoGrafico){S=n;v=y;ne=G;A=t.idComponenteGrafico;ce=t.ejeYenCero;de=h;var f=a;var ue=m;A=document.getElementById(A);new Chart(A,{type:v,data:{labels:S,datasets:ne},options:{legend:{display:ue,position:de,labels:{textAlign:"center"}},tooltips:f,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:ce},stacked:!0}],xAxes:[{stacked:!0}]}}})}else if("Mixed"==t.tipoGrafico){v=n;ue="bar";f=G;var F=t.idComponenteGrafico;var be=t.ejeYenCero;var fe=h;var L=o;o=c[0];var ge=c[1];var B=m;F=document.getElementById(F);new Chart(F,{type:ue,data:{labels:v,datasets:f},options:{legend:{display:B,position:fe,labels:{textAlign:"center"}},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,a){var o="",t=((2==L||e.datasetIndex==L)&&(o="%"),xe(e.yLabel));return a.datasets[e.datasetIndex].label+": "+t+" "+o}}},responsive:!0,scales:{yAxes:[{id:"left-y-axis",type:"linear",position:"left",ticks:{beginAtZero:be,callback:function(e){var a="";return e+(a=1!=L&&2!=L?a:"%")}},scaleLabel:{display:!0,labelString:ge,fontColor:"black"}},{id:"right-y-axis",type:"linear",position:"right",ticks:{beginAtZero:be,callback:function(e){var a="";return e+(a=0!=L&&2!=L?a:"%")}},scaleLabel:{display:!0,labelString:o,fontColor:"black"}}]}}})}else if("Horizontal Bar"==t.tipoGrafico){F=n,v=y,f=G,B=t.idComponenteGrafico,fe=t.ejeYenCero,ge=h,be=a,o=m;B=document.getElementById(B);new Chart(B,{type:v,data:{labels:F,datasets:f},options:{legend:{display:o,position:ge,labels:{textAlign:"center"}},tooltips:be,responsive:!0,maintainAspectRatio:!0,scales:{xAxes:[{ticks:{beginAtZero:fe}}]}}})}else{var v=n,f=y,o=G,M=t.idComponenteGrafico,he=t.ejeYenCero;M=document.getElementById(M);new Chart(M,{type:f,data:{labels:v,datasets:o},options:{legend:{display:m,position:h,labels:{textAlign:"center"}},tooltips:a,responsive:!0,maintainAspectRatio:!0,scales:{yAxes:[{ticks:{beginAtZero:he}}]}}})}}""!=t.tituloGrafico&&void 0!==t.tituloGrafico&&(M=t.idTagTituloGrafico,f=t.tituloGrafico,document.getElementById(M)&&(document.getElementById(M).innerHTML=f))}}function gapi_legacy(e){const r=e.values[0],n=/ |\/|_/gi;let s=[];e.values.forEach((a,e)=>{if(0<e){let e={};for(var o in r){var t=a.hasOwnProperty(o)?a[o].trim():"";e["gsx$"+r[o].toLowerCase().replace(n,"")]={$t:t}}s.push(e)}});return{feed:{entry:s}}}
