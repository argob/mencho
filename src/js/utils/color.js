const _theme = {
    verde: {
        color: {
            "50": "#F1F5D7",
            "100": "#DEE8A3",
            "200": "#CCDB6E",
            "300": "#B9CE39",
            "400": "#93B727",
            "500": "#6EA015",
            "600": "#4E8F24",
            "700": "#2E7D33",
            "800": "#27692A",
            "900": "#1F5421",
            // dark: "#27692A",
            // darker: "#1F5421",
            // light:"#B9CE39",
            // lighter:"#DEE8A3",
        },
        code : {
            verde: {    
                name: "Verde",
                description:"",
                scope: "",
                color:"#2E7D33", 
                alias: [
                    "verde",
                    "success"
                ]
            },
            verdin: {
                name: "Verdín",
                description:"",
                scope: "",
                color:"#6EA015", 
                alias: [
                    "verdin"
                ]
            },
            lima: {
                name: "Lima",
                description:"",
                scope: "",
                color: "#B9CE39",
                alias: [
                    "lima"
                ]
            }
        }
    },
    amarillo: {
        color: {
            "50": "#FFFAE8",
            "100": "#FFF1C0",
            "200": "#FFE997",
            "300": "#FFE06E",
            "400": "#FFD745",
            "500": "#FFCE1C",
            "600": "#D8AE18",
            "700": "#B18F15",
            "800": "#8A6F12",
            "900": "#634F0E"
        },
        code: {
            maiz: {
                name: "Maiz",
                description:"",
                scope: "",
                color: "#FFCE1C",
                alias: [
                    "maiz",
                    "maíz"
                ]
            }
        }
    },
    naranja: {
        color: {
            "50": "#FAF7ED",
            "100": "#EAE1B7",
            "200": "#E9CE8C",
            "300": "#E7BA61",
            "400": "#EFA843",
            "500": "#F79525",
            "600": "#EF6C00",
            "700": "#CA620A",
            "800": "#A45713",
            "900": "#511901"
        },
        code: {
            marron_oscuro: {
                name: "Marrón oscuro",
                description:"",
                scope: "",
                color: "#511901",
                alias: [
                    "marron-oscuro",
                ]
            },
            marron_claro: {
                name: "Marrón claro",
                description:"",
                scope: "",
                color: "#A45713",
                alias: [
                    "marron-claro",
                ]
            },
            naranja_oscuro: {
                name: "Naranja oscuro",
                description:"",
                scope: "",
                color: "#A45713",
                alias: [
                    "naranja-oscuro",
                ]
            },
            mandarina: {
                name: "Mandarina",
                description:"",
                scope: "",
                color: "#F79525",
                alias: [
                    "mandarina",
                ]
            },
            amarillo: {
                name: "Amarillo",
                description:"",
                scope: "",
                color: "#E7BA61",
                alias: [
                    "amarillo",
                ]
            },
            arena: {
                name: "Arena",
                description:"",
                scope: "",
                color: "#EAE1B7",
                alias: [
                    "arena",
                ]
            },
        }
    },
    rojo: {
        color: {
            "50": "#fcdddc",
            "100": "#f9bbb9",
            "200": "#f69896",
            "300": "#f27673",
            "400": "#ef5350",
            "500": "#e14543",
            "600": "#d43635",
            "700": "#c62828",
            "800": "#a12222",
            "900": "#7c1c1c"
        },
        code: {
            rojo: {
                name: "Rojo",
                description:"Atención o peligro",
                scope: "",
                color: "#c62828",
                alias: [
                    "rojo",
                    "danger"
                ]
            },
            tomate: {
                name: "Tomate",
                description:"",
                scope: "",
                color: "#ef5350",
                alias: [
                    "tomate",
                ]
            }
        }
    },

    fucsia: {
        color: {
            "50": "#fcdde6",
            "100": "#f48eab",
            "200": "#f1669d",
            "300": "#ed3d8f",
            "400": "#ed3f85",
            "500": "#ec407a",
            "600": "#d72c6b",
            "700": "#c2185b",
            "800": "#9a144a",
            "900": "#721038"
        },
        code: {
            arandano: {
                name: "Arándano",
                description:"Atención o peligro",
                scope: "",
                color: "#c2185b",
                alias: [
                    "arandano",
                ]
            },
            fucsia: {
                name: "Fucsia",
                description:"",
                scope: "",
                color: "#ec407a",
                alias: [
                    "fucsia",
                ]
            },
            cereza: {
                name: "Cereza",
                description:"",
                scope: "",
                color: "#ed3d8f",
                alias: [
                    "cereza",
                ]
            },
            rosado: {
                name: "Rosado",
                description:"",
                scope: "",
                color: "#f48eab",
                alias: [
                    "rosado",
                ]
            }
        }
    },
    violeta: {
        color: {
            "50": "#ebeaf9",
            "100": "#beb7dc",
            "200": "#9284be",
            "300": "#7e4fac",
            "400": "#6a1b99",
            "500": "#522998",
            "600": "#3a3796",
            "700": "#2c2a84",
            "800": "#1e1c71",
            "900": "#171756"
        },
        code: {
            azul_morado: {
                name: "Azul morado",
                description:"",
                scope: "",
                color: "#3a3796",
                alias: [
                    "azul_morado",
                ]
            },
            uva: {
                name: "Uva",
                description:"",
                scope: "",
                color: "#6a1b99",
                alias: [
                    "uva",
                ]
            },
            lavanda: {
                name: "Lavanda",
                description:"",
                scope: "",
                color: "#9284be",
                alias: [
                    "lavanda",
                ]
            }
        }
    },
    azul: {
        color: {
            "50": "#d8f0fa",
            "100": "#bee6f6",
            "200": "#75d0f2",
            "300": "#2cb9ee",
            "400": "#37bbed",
            "500": "#039be5",
            "600": "#0b7fc0",
            "700": "#14639a",
            "800": "#1c4875",
            "900": "#242c4f"
        },
        code: {
            primary: {
                name: "Azul morado",
                description:"",
                scope: "",
                color: "#242c4f",
                alias: [
                    "primary",
                    "azul"
                ]
            },
            escarapela: {
                name: "escarapela",
                description:"",
                scope: "",
                color: "#2cb9ee",
                alias: [
                    "escarapela",
                ]
            },
            celeste_argentina: {
                name: "Celeste Argentina",
                description:"",
                scope: "",
                color: "#37bbed",
                alias: [
                    "celeste_argentina",
                ]
            },
            cielo: {
                name: "cielo",
                description:"",
                scope: "",
                color: "#039be5",
                alias: [
                    "cielo",
                ]
            }
        }
    },
    turquesa: {
        color: {
            "50": "#dcf1f0",
            "100": "#c0e5e3",
            "200": "#a4d9d7",
            "300": "#88cecb",
            "400": "#6cc3be",
            "500": "#50b7b2",
            "600": "#459e99",
            "700": "#3b8681",
            "800": "#306d69",
            "900": "#255450"
        },
        code: {
            palta: {
                name: "Palta",
                description:"",
                scope: "",
                color: "#50b7b2",
                alias: [
                    "palta",
                ]
            },
        }
    },
    negro: {
        color: {
            "50": "#f2f2f2",
            "100": "#d3d8d6",
            "200": "#b6bdbd",
            "300": "#99a1a4",
            "400": "#7e848e",
            "500": "#686b70",
            "600": "#525252",
            "700": "#434343",
            "800": "#333333",
            "900": "#000000"
        },
        code: {
            black: {
                name: "black",
                description:"",
                scope: "",
                color: "#333333",
                alias: [
                    "black",
                ]
            },
        }
    },


    amarillo_bandera: {
        color: {
            "50": "#fcbf49",
            // "100": "#d3d8d6",
            // "200": "#b6bdbd",
            // "300": "#99a1a4",
            // "400": "#7e848e",
            // "500": "#686b70",
            // "600": "#525252",
            // "700": "#434343",
            // "800": "#333333",
            // "900": "#000000"
        },
        code: {
            amarillo_bandera: {
                name: "Amarillo bandera",
                description: "Color oficial para la bandera Argentina",
                scope: "gna",
                color: "#fcbf49",
                alias: [
                    "amarillo_bandera",
                ]
            },
        }
    },

    celeste_bandera: {
        color: {
            "50": "#75AADB",
            // "100": "#d3d8d6",
            // "200": "#b6bdbd",
            // "300": "#99a1a4",
            // "400": "#7e848e",
            // "500": "#686b70",
            // "600": "#525252",
            // "700": "#434343",
            // "800": "#333333",
            // "900": "#000000"
        },
        code: {
            celeste_bandera: {
                name: "Celeste bandera",
                description: "Color oficial para la bandera Argentina",
                scope: "gna",
                color: "#75AADB",
                alias: [
                    "celeste_bandera",
                ]
            },
        }
    },

    marron_bandera: {
        color: {
            "50": "#843511",
            // "100": "#d3d8d6",
            // "200": "#b6bdbd",
            // "300": "#99a1a4",
            // "400": "#7e848e",
            // "500": "#686b70",
            // "600": "#525252",
            // "700": "#434343",
            // "800": "#333333",
            // "900": "#000000"
        },
        code: {
            marron_bandera: {
                name: "Marrón bandera",
                description: "Color oficial para la bandera Argentina",
                scope: "gna",
                color: "#843511",
                alias: [
                    "marron_bandera",
                ]
            },
        }
    },




    verde_jade: {
        color: {
            "50": "#006666",
            // "100": "#d3d8d6",
            // "200": "#b6bdbd",
            // "300": "#99a1a4",
            // "400": "#7e848e",
            // "500": "#686b70",
            // "600": "#525252",
            // "700": "#434343",
            // "800": "#333333",
            // "900": "#000000"
        },
        code: {
            verde_jade: {
                name: "Verde jade",
                description: "",
                scope: "gna",
                color: "#006666",
                alias: [
                    "verde_jade",
                ]
            },
        }
    },




    verde_aloe: {
        color: {
            "50": "#4fbb73",
            // "100": "#d3d8d6",
            // "200": "#b6bdbd",
            // "300": "#99a1a4",
            // "400": "#7e848e",
            // "500": "#686b70",
            // "600": "#525252",
            // "700": "#434343",
            // "800": "#333333",
            // "900": "#000000"
        },
        code: {
            verde_aloe: {
                name: "Verde aloe",
                description: "",
                scope: "gna",
                color: "#4fbb73",
                alias: [
                    "verde_aloe",
                ]
            },
        }
    },


};


/**
 * Códigos de color válidos para utilizar en ilustraciones. 
 */
const illustrationColors = [
    "primary",
    "miarg-azul",
    "palta",
    "success",
    "arandano",
    "rosado",
    "arena",
    "warning"
];


/**
 * Definición de colores Poncho
 */
const ponchoColorDefinitionsList = [
    {
        description: "",
        scope: "",
        name: "Azul MiArgentina",
        color: "#362FC1",
        code: "miarg-azul",
        alias: [
            "miarg-azul"
        ]
    },
    {
        description: "",
        scope: "",
        name: "Arena",
        color: "#EAE1B7",
        code: "arena",
        alias: [
            "arena"
        ]
    },
    {
        description: "",
        scope: "",
        name: "Rosado",
        color: "#F48EAB",
        code: "rosado",
        alias: [
            "rosado"
        ]
    },
    {
        description: "",
        scope: "",
        name: "Blanco",
        color: "#FFFFFF",
        code: "white",
        alias: [
            "white"
        ]
    },
    {
        description: "",
        scope: "",
        name: "Gris base",
        color: "#333333",
        code: "gray-base",
        alias: [
            "gray-base"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Azul",
        color: "#242C4F",
        code: "azul",
        alias: [
            "azul"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Azul",
        color: "#242C4F",
        code: "primary",
        alias: [
            "azul",
            "primary"
        ]
    },
    {
        description: "Acción principal o exitosa",
        scope: "brand",
        name: "Verde",
        color: "#2E7D33",
        code: "success",
        alias: [
            "verde",
            "success"
        ]
    },
    {
        description: "Atención o peligro",
        scope: "brand",
        name: "Rojo",
        color: "#C62828",
        code: "danger",
        alias: [
            "rojo",
            "danger"
        ]
    },
    {
        description: "Foco o alerta",
        scope: "brand",
        name: "Amarillo",
        color: "#E7BA61",
        code: "warning",
        alias: [
            "amarillo",
            "warning"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Celeste",
        color: "#3e5a7e",
        code: "info",
        alias: [
            "celeste",
            "info"
        ]
    },
    {
        description: "Elementos básicos",
        scope: "brand",
        name: "Negro",
        color: "#333333",
        code: "black",
        alias: [
            "negro",
            "black"
        ]
    },
    {
        description: "Elementos básicos",
        scope: "",
        name: "Negro",
        color: "#333333",
        code: "black",
        alias: [
            "black"
        ]
    },
    {
        description: "Enlace visitado",
        scope: "brand",
        name: "Uva",
        color: "#6A1B99",
        code: "uva",
        alias: [
            "uva"
        ]
    },
    {
        description: "Texto secundario (subtitulos)",
        scope: "brand",
        name: "Gris",
        color: "#525252",
        code: "muted",
        alias: [
            "gris",
            "muted"
        ]
    },
    {
        description: "Gris área",
        scope: "",
        name: "Gris intermedio",
        color: "#555555",
        code: "gray",
        alias: [
            "grisintermedio",
            "gris-area",
            "gray"
        ]
    },
    {
        description: "Fondo footer/header",
        scope: "brand",
        name: "Celeste Argentina",
        color: "#37BBED",
        code: "celeste-argentina",
        alias: [
            "celesteargentina",
            "celeste-argentina"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Fucsia",
        color: "#EC407A",
        code: "fucsia",
        alias: [
            "fucsia"
        ]
    },
    {
        description: "",
        scope: "brand",

        name: "Arándano",
        color: "#C2185B",
        code: "arandano",
        alias: [
            "arandano"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Cielo",
        color: "#039BE5",
        code: "cielo",
        alias: [
            "cielo"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Verdin",
        color: "#6EA100",
        code: "verdin",
        alias: [
            "verdin"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Lima",
        color: "#CDDC39",
        code: "lima",
        alias: [
            "lima"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Maiz",
        color: "#FFCE00",
        code: "maiz",
        alias: [
            "maiz",
            "maíz"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Tomate",
        color: "#EF5350",
        code: "tomate",
        alias: [
            "tomate"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Naranja oscuro",
        color: "#EF6C00",
        code: "naranja",
        alias: [
            "naranjaoscuro",
            "naranja"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Verde azulado",
        color: "#008388",
        code: "verde-azulado",
        alias: [
            "verdeazulado",
            "verde-azulado"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Escarapela",
        color: "#2CB9EE",
        code: "escarapela",
        alias: [
            "escarapela"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Lavanda",
        color: "#9284BE",
        code: "lavanda",
        alias: [
            "lavanda"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Mandarina",
        color: "#F79525",
        code: "mandarina",
        alias: [
            "mandarina"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Palta",
        color: "#50B7B2",
        code: "palta",
        alias: [
            "palta"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Cereza",
        color: "#ED3D8F",
        code: "cereza",
        alias: [
            "cereza"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Limón",
        color: "#D7DF23",
        code: "limon",
        alias: [
            "limon"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Verde Jade",
        color: "#006666",
        code: "verde-jade",
        alias: [
            "verdejade",
            "verde-jade"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Verde Aloe",
        color: "#4FBB73",
        code: "verde-aloe",
        alias: [
            "verdealoe",
            "verde-aloe"
        ]
    },
    {
        description: "",
        scope: "brand",
        name: "Verde Cemento",
        color: "#B4BEBA",
        code: "verde-cemento",
        alias: [
            "verdecemento",
            "verde-cemento"
        ]
    },
    {
        "description": "",
        "scope": "",
        "name": "Gray dark",
        "color": "#444444",
        "code": "gray-dark",
        "alias": [
            "gray-dark"
        ]
    },
    {
        "description": "",
        "scope": "",
        "name": "Gray border",
        "color": "#DEE2E6",
        "code": "gray-border",
        "alias": [
            "gray-border"
        ]
    },
    {
        "description": "",
        "scope": "",
        "name": "Gray hover",
        "color": "#E9E9E9",
        "code": "gray-hover",
        "alias": [
            "gray-hover"
        ]
    },
    {
        "description": "",
        "scope": "",
        "name": "gray hover light",
        "color": "#F0F0F0",
        "code": "gray-hover-light",
        "alias": [
            "gray-hover-light"
        ]
    },
    {
        "description": "",
        "scope": "",
        "name": "gray background",
        "color": "#FFFFFF",
        "code": "gray-background",
        "alias": [
            "gray-background"
        ]
    },
    {
        "description": "",
        "scope": "",
        "name": "Gray light",
        "color": "#DDDDDD",
        "code": "gray-light",
        "alias": [
            "gray-light"
        ]
    },
    {
        "description": "",
        "scope": "",
        "name": "Gray lighter",
        "color": "#F2F2F2",
        "code": "gray-lighter",
        "alias": [
            "gray-lighter"
        ]
    },
    {
        "description": "",
        "scope": "brand",
        "name": "Default",
        "color": "#838383",
        "code": "default",
        "alias": [
            "default"
        ]
    },
    {
        "description": "",
        "scope": "brand",
        "name": "Primary alt",
        "color": "#242C4F",
        "code": "primary-alt",
        "alias": [
            "primary-alt"
        ]
    },
    {
        "description": "",
        "scope": "brand",
        "name": "Primary light",
        "color": "#F3FAFF",
        "code": "primary-light",
        "alias": [
            "primary-light"
        ]
    },
    {
        "description": "",
        "scope": "brand",
        "name": "Secondary",
        "color": "#45658D",
        "code": "secondary",
        "alias": [
            "secondary"
        ]
    },
    {
        "description": "",
        "scope": "brand",
        "name": "Complementary",
        "color": "#EF5350",
        "code": "complementary",
        "alias": [
            "complementary"
        ]
    },
    {
        "description": "",
        "scope": "brand",
        "name": "Azul marino",
        "color": "#242C4F",
        "code": "azul-marino",
        "alias": [
            "azul-marino"
        ]
    },
    {
        "description": "",
        "scope": "brand",
        "name": "Amarillo intenso",
        "color": "#E7BA61",
        "code": "amarillo-intenso",
        "alias": [
            "amarillo-intenso"
        ]
    }
];


/**
 * Variaciones de color
 */
const colorVariations = {
    high: [
        "primary","verde-jade","success","naranja","danger","arandano",
        "uva","celeste-argentina","palta","verdin","warning","tomate",
        "fucsia","lavanda","black"
    ],
    medium: [
        "info","verde-azulado","verdin","warning","tomate","fucsia",
        "lavanda","palta","lima","maiz","muted"
    ]
};


/**
 * Definición por color
 * 
 * @see ponchoColorDefinitionsList
 * @param {string} color Nombre del cólor a buscar. 
 * @returns {string|boolean}
 */
const ponchoColorDefinitions = ponchoColor => {
    if(typeof ponchoColor == undefined || !ponchoColor?.trim()){
        return;
    }
    let result = null;
    for (let item of theme) {
        for (const f of item.instance) {
            if (f.alias.includes( ponchoColor )) {
                result = f;
                break;
            }
        }
        if (result) break;
    }

    if(result){
        const group = ponchoColorGroup(result.parent_group);
        const {color=false, name=false, alias=false} = group;
        if(color){
            result.group = {color, name, alias};
        }
    }


    return result;
};


/**
 * Grupo de color
 * @param {string} name Nombre del grupo 
 * @returns 
 */
const ponchoColorGroup = name => {
    if(typeof name == undefined || !name?.trim()){
        return;
    }

    return theme.find(obj => obj.group == name);
};




/**
 * Colores poncho a hexa
 * 
 * @see https://argob.github.io/poncho/identidad/colores/
 * @param {string} color Nombre de color Poncho.
 * @example
 * // returns "#2897d4"
 * getColor("celeste")
 * @returns {string} Color en formato hexadecimal.
 */
const ponchoColor = color => {
    const defaultColor = "#99999";

    if (typeof color !== "string") {
        console.warn(`Invalid color provided. Using default: ${defaultColor}`);
        return defaultColor;
    }

    const definition = ponchoColorDefinitions(color);
    if (definition) {
        return definition.color || defaultColor;
    }

    return defaultColor;
};


/**
 * Hace un refactor del número hexa
 * 
 * @param {string} value Valor hexadecimal 
 * @returns {string}
 */
const cleanUpHex = value => {
    let hex = value
            .toString()
            .replace("#", "")
            .trim()
            .toUpperCase();

    if (hex.length < 3 || hex.length > 6){
        return false;
    } else if(hex.length == 3){
        hex = Array.from(hex).map(a => a.repeat(2)).join("");
    }
    return `#${hex}`;
};


/**
 * Retorna el código de color poncho por hexadecimal.
 * @param {string} value Valor hexadecimal a buscar 
 * @see ponchoColorDefinitionsList
 * @example
 * // {
 * //    "description": "",
 * //    "name": "Mandarina",
 * //    "color": "#f79525",
 * //    "code": "mandarina",
 * //    "alias": [
 * //        "mandarina"
 * //    ]
 * // }
 * findByHex("#f79525");
 * @returns {object} Objecto con la defición del color
 */
const ponchoColorByHex = value => ponchoColorDefinitionsList.find(f => {
    const colorToFind = cleanUpHex(value);
    const colorToCompare = cleanUpHex(f.color);
    if(colorToFind == colorToCompare){
        return true;
    }
    return false;
});

if (typeof exports !== "undefined") {
    module.exports = {
        ponchoColorDefinitionsList,illustrationColors,
        ponchoColorDefinitions, ponchoColor, ponchoColorByHex, cleanUpHex};
}